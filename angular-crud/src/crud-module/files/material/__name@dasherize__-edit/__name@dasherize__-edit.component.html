<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
        <li class="breadcrumb-item active"><%=model.title%></li>
    </ol>
</nav>
<h2><%=model.title%> Detail</h2>
<!-- todo: figure out better material styling for alerts -->
<div *ngIf="feedback.message" class="alert alert-{{feedback.type}}">{{ feedback.message }}</div>
<form *ngIf="<%=camelize(name)%>" #editForm="ngForm" (ngSubmit)="save()">
  <%_ for (let panel of model.editPanels) { -%>
    <div>
      <%_ for (let row of panel) { -%>
        <div class="row">
          <%_ for (let field of row) { -%>
            <mat-form-field>
                <mat-label <%if (!field.readonly) { %> for="<%=field.name%>"<%}%>><%=field.label%></mat-label>
              <%_ if (field.readonly) { -%>
                <input matInput [(ngModel)]="<%=camelize(name)%>.<%=field.name%>" id="<%=field.name%>" name="<%=field.name%>" placeholder="<%=field.label%>" readonly>
              <%_ } else if (field.type === 'date') { -%>
                <input matInput [matDatepicker]="picker" [(ngModel)]="<%=camelize(name)%>.<%=field.name%>" id="<%=field.name%>" name="<%=field.name%>" placeholder="<%=field.label%>"><mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle><mat-datepicker #picker></mat-datepicker>
              <%_ } else if (field.type === 'number') { -%>
                <input matInput type="number" [(ngModel)]="<%=camelize(name)%>.<%=field.name%>" id="<%=field.name%>" name="<%=field.name%>" placeholder="<%=field.label%>">
              <%_ } else if (field.type === 'hidden') { -%>
                <input type="hidden" [(ngModel)]="<%=camelize(name)%>.<%=field.name%>" id="<%=field.name%>" name="<%=field.name%>" placeholder="<%=field.label%>">
              <%_ } else { -%>
                <input matInput [(ngModel)]="<%=camelize(name)%>.<%=field.name%>" id="<%=field.name%>" name="<%=field.name%>" placeholder="<%=field.label%>">
              <%_ } -%>
            </mat-form-field>
          <%_ } -%>
        </div>
      <%_ } -%>
    </div>
  <%_ } -%>
    <div class="button-row" role="group">
        <button type="submit" mat-raised-button color="primary" [disabled]="!editForm.form.valid">Save</button>
        <button type="button" mat-button color="accent" (click)="cancel()">Cancel</button>
    </div>
</form>
